# CLAUDE.md - AI 작업 표준 수칙

> 모든 AI 어시스턴트가 준수해야 하는 필수 작업 표준입니다.  
> 이 문서는 프로젝트 전반에 걸쳐 일관된 품질과 체계적인 작업 관리를 보장합니다.

## 📋 문서 관리 원칙

### 1. 프로젝트 구조 표준
```
프로젝트루트/
├── README.md           # 프로젝트 개요 및 빠른 시작
├── CLAUDE.md          # AI 작업 표준 (본 문서)
├── docs/              # 모든 기술 문서는 반드시 여기
│   ├── SETUP.md       # 상세 설치 가이드
│   ├── DEVELOPMENT.md # 개발 환경 구성
│   ├── TROUBLESHOOTING.md # 문제 해결 및 FAQ
│   ├── API_DESIGN.md  # API 명세 및 설계
│   ├── ARCHITECTURE.md # 시스템 아키텍처
│   ├── DEPLOYMENT.md  # 배포 가이드
│   └── WORKFLOW.md    # 작업 흐름 기록
├── scripts/           # 모든 스크립트 파일
│   ├── setup.sh       # 설치 스크립트
│   ├── deploy.sh      # 배포 스크립트
│   └── dev.sh         # 개발용 스크립트
├── tests/             # 모든 테스트 파일
│   ├── test_*.py      # 단위 테스트
│   ├── integration/   # 통합 테스트
│   └── fixtures/      # 테스트 데이터
├── app/ 또는 src/     # 애플리케이션 소스코드
├── logs/              # 로그 파일 (gitignore 권장)
├── requirements.txt   # 프로덕션 의존성 (루트 유지)
├── requirements-dev.txt # 개발 의존성 (루트 유지)
├── pyproject.toml     # 현대적 Python 프로젝트 설정 (선택)
└── .env.example       # 환경변수 템플릿
```

### 2. 디렉토리 구조 규칙
- **docs/**: 모든 기술 문서는 반드시 여기에 작성
- **scripts/**: 모든 스크립트 파일 (*.sh, *.py 실행 파일)
- **tests/**: 모든 테스트 관련 파일
- **app/ 또는 src/**: 애플리케이션 메인 소스코드
- **logs/**: 로그 파일 (.gitignore에 추가 권장)
- **루트 디렉토리**: 프로젝트 설정 파일만 (requirements*.txt, .env.example, pyproject.toml 등)

### 3. 필수 문서 규칙
- **모든 기술 문서는 반드시 `docs/` 디렉토리 내부에 작성**
- **README.md는 개요와 빠른 시작만** (상세 내용은 docs/ 참조)
- **중복 문서 금지** (QUICK_START.md, SETUP_GUIDE.md 등 삭제)
- **한국어 우선** (필요시 영문 병기)

### 4. 파일 명명 규칙

#### 문서 파일
- **대문자 + 언더스코어**: `SETUP.md`, `API_DESIGN.md`
- **명확한 용도 표시**: `TROUBLESHOOTING.md`, `DEVELOPMENT.md`
- **버전 관리**: `WORKFLOW_v1.0.md` (필요시)

#### 스크립트 파일
- **소문자 + 언더스코어**: `setup.sh`, `deploy.sh`
- **명확한 기능 표시**: `dev.sh`, `test_runner.py`
- **실행 권한 부여**: `chmod +x scripts/*.sh`

#### 테스트 파일
- **test_ 접두사**: `test_api.py`, `test_basic.py`
- **기능별 그룹화**: `test_auth.py`, `test_models.py`
- **통합 테스트**: `tests/integration/test_*.py`

## 🔧 작업 수행 원칙

### 1. 핵심 문제 해결 우선
```
❌ 금지사항: 우회 방법 제안
- "대안으로 더미 모드를 사용하세요"
- "다른 라이브러리를 사용해보세요"
- "일단 이걸로 해보고 나중에..."

✅ 필수사항: 근본 원인 해결
- 정확한 에러 분석 및 해결
- 핵심 라이브러리 설치 성공까지 완주
- 실제 동작하는 솔루션 제공
```

### 2. 성공 케이스 필수 기록
**모든 성공한 작업은 반드시 `docs/WORKFLOW.md`에 기록:**

```markdown
## [날짜] 작업명

### 문제 상황
- 구체적인 에러 메시지
- 환경 정보 (OS, Python 버전 등)

### 시도한 방법들
1. 첫 번째 시도: [결과]
2. 두 번째 시도: [결과]
3. 성공한 방법: [상세 과정]

### 최종 성공 명령어
```bash
# 정확히 성공한 명령어 시퀀스
sudo apt-get install build-essential cmake
pip install insightface
```

### 추가 참고사항
- 주의할 점
- 환경별 차이점
```

### 3. 작업 완료 기준
- **설치**: 실제 import 및 동작 확인까지
- **설정**: 모든 엔드포인트 정상 응답까지  
- **문서**: 다른 사람이 따라할 수 있는 수준까지
- **테스트**: 실제 기능 동작 검증까지

## 📚 문서 작성 표준

### 1. SETUP.md 구조
```markdown
# 프로젝트명 설치 가이드

## 시스템 요구사항
[명확한 최소/권장 사양]

## 자동 설치 (권장)
[setup.sh 등 스크립트 사용법]

## 수동 설치
### 1단계: 환경 준비
### 2단계: 시스템 의존성
### 3단계: Python 패키지
### 4단계: 설정 파일
### 5단계: 검증 테스트

## 문제 해결
[자주 발생하는 에러별 해결법]

## 성공 확인 방법
[설치 완료 후 반드시 수행할 테스트]
```

### 2. TROUBLESHOOTING.md 구조
```markdown
# 문제 해결 가이드

## 설치 관련 문제
### 패키지 설치 실패
- 원인: [구체적 원인]
- 해결: [단계별 해결법]
- 검증: [해결 확인 방법]

## 실행 관련 문제
[에러별 해결 방법]

## 환경별 특이사항
### Python 3.12
### Python 3.11
### Ubuntu 22.04
### macOS
```

### 3. API_DESIGN.md 구조
```markdown
# API 설계 문서

## 엔드포인트 목록
[모든 API 엔드포인트 나열]

## 상세 명세
### POST /api/endpoint
- 설명: [기능 설명]
- 요청: [요청 형식]
- 응답: [응답 형식]
- 예제: [실제 예제]
- 에러: [에러 코드별 처리]
```

## 🚫 절대 금지사항

### 1. 파일 구조 분산
- ❌ README.md에 모든 내용 나열
- ❌ 여러 파일에 중복 내용
- ❌ docs/ 외부에 기술 문서 작성
- ❌ 루트 디렉토리에 스크립트 파일 방치
- ❌ 루트 디렉토리에 테스트 파일 방치
- ❌ 임시 파일 또는 로그 파일 커밋

### 2. 미완성 작업 방치
- ❌ "일단 이걸로 해보세요" 후 종료
- ❌ 핵심 기능 없이 더미로 대체
- ❌ 에러 무시하고 진행

### 3. 성공 케이스 미기록
- ❌ 성공했지만 과정 기록 안함
- ❌ "다음에 기록하겠습니다"
- ❌ 재현 불가능한 설명

## ✅ 필수 준수사항

### 1. 작업 시작 전
1. 기존 문서 구조 파악
2. 중복 문서 여부 확인
3. 작업 계획 수립

### 2. 작업 진행 중
1. 모든 시도와 결과 기록
2. 에러 메시지 정확히 보존
3. 환경 정보 상세 기록

### 3. 작업 완료 후
1. 성공 케이스 `docs/WORKFLOW.md`에 기록
2. 문서 구조 정리
3. 다른 사용자 관점에서 검증

## 📖 작업 템플릿

### 새 기능 구현시
```markdown
## [날짜] [기능명] 구현

### 요구사항 분석
- 사용자 요청: [원본 요청]
- 핵심 기능: [구현해야 할 기능]
- 제약사항: [기술적/환경적 제약]

### 구현 과정
1. [1단계]: [결과]
2. [2단계]: [결과]
3. [최종 단계]: [성공]

### 최종 코드
[실제 작동하는 코드]

### 테스트 결과
[검증 방법 및 결과]

### 후속 작업
[필요한 추가 작업]
```

### 문제 해결시
```markdown
## [날짜] [문제] 해결

### 문제 상황
- 에러 메시지: [정확한 에러]
- 발생 환경: [OS, 버전 등]
- 재현 방법: [문제 재현 단계]

### 해결 과정
1. 원인 분석: [분석 결과]
2. 시도한 방법들:
   - 방법1: [결과]
   - 방법2: [결과]
3. 최종 해결책: [성공한 방법]

### 해결 명령어
```bash
[정확한 명령어 시퀀스]
```

### 예방 방법
[동일 문제 예방법]
```

## 🎯 품질 기준

### 문서 품질
- **완전성**: 누구나 따라할 수 있는 수준
- **정확성**: 실제 테스트된 내용만 기록
- **최신성**: 환경 변화 반영
- **구조성**: 체계적인 조직

### 코드 품질  
- **동작성**: 실제 작동하는 코드만
- **안정성**: 에러 처리 포함
- **가독성**: 명확한 변수명과 주석
- **확장성**: 유지보수 가능한 구조

### 작업 품질
- **완성도**: 시작한 작업은 반드시 완료
- **재현성**: 다른 환경에서도 동일 결과
- **문서화**: 모든 과정과 결과 기록
- **검증성**: 테스트 가능한 결과물

---

## 📌 이 문서의 활용

### AI 어시스턴트 지침
1. 작업 시작 전 이 문서 숙지
2. 모든 원칙 엄격히 준수
3. 예외 상황은 사용자와 협의

### 사용자 가이드
1. AI 작업 품질 확인용
2. 문서 구조 표준 참조용
3. 작업 완성도 검증용

### 프로젝트 표준
1. 모든 프로젝트에 적용
2. 지속적인 개선과 업데이트
3. 팀원 간 공유 필수

**이 문서를 준수하여 일관되고 완성도 높은 작업을 보장합니다.**